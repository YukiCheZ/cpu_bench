# metadata.yaml for chaos fractal benchmark
name: chaos_fractal
type: macrobenchmark
language: Python
domain:
  - graphics
  - compute

workloads:
  - name: chaos-fractal
    summary: "Chaos Game fractal generation benchmark using B-splines"
    action: "perform iterative point transformations for fractal generation"
    description: >
      Load pre-generated spline definitions and simulation parameters to initialize the Chaos Game environment.
      Execute the fractal generation algorithm by iteratively transforming points using B-spline based geometric operations and random selections.
      Perform intensive floating-point calculations to simulate fractal growth and measure the CPU's computational throughput for mathematical modeling.
    data:
      command: python3 generate_data.py
      parameters:
        width:
          description: Image width in pixels
          default: 4096
        height:
          description: Image height in pixels
          default: 4096
        iterations:
          description: Number of inner transform iterations (points) each worker performs
          default: 50000000
        thickness:
          description: Thickness parameter controlling point displacement around splines
          default: 0.25
        rng-seed:
          description: Base RNG seed for reproducible runs (parent seed is offset per worker/outer iteration)
          default: 42
        output:
          description: Output path for generated input data
          default: chaos_input.pkl
    command: python3 run_benchmark.py
    parameters:
      input:
        description: Path to input data file generated by data command
        default: data/chaos_input.pkl
      iters:
        description: Number of timed benchmark repetitions (outer)
        default: 1
      threads:
        description: Number of parallel worker processes (each worker runs `iterations` transforms)
        default: 1

characteristics:
  IO_effects: low
  single_machine: true
  network_effects: none
  cpu_bound: true
  memory_intensive: low

tags:
  - cpu
  - fractal
  - image
  - compute
  - floating_point

dependencies:
  python: ">=3.8"
