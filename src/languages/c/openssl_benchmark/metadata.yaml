# metadata.yaml for OpenSSL CPU Benchmark
name: openssl_cpu_benchmark
type: macrobenchmark
language: C
domain:
  - cryptography

setup:
  command: ./setup.sh
  parameters:
    compiler:
      description: Compiler to use (gcc or clang)
      default: gcc
    opt:
      description: Optimization level (O0, O1, O2, O3, Ofast)
      default: O3

workloads:
  - name: openssl
    description: >
      Execute CPU-intensive encryption and hashing operations using OpenSSL.
    data:
      command: python3 generate_data.py
      parameters:
        size:
          description: Size of the data file to generate (in MB)
          default: 10
        output:
          description: Path to the output data file
          default: ./data/data.bin
    command: ./bin/openssl_cpu_benchmark
    parameters:
      input:
        description: Path to the pre-generated data file
        default: ./data/data.bin
      threads:
        description: Number of concurrent threads to use
        default: 1
      iters:
        description: Number of iterations to run
        default: 200
      warmup:
        description: Number of warmup iterations
        default: 1

characteristics:
  IO_effects: low
  single_machine: true
  network_effects: none
  cpu_bound: true
  memory_intensive: low

tags:
  - cryptography
  - openssl
  - encryption
  - sha
  - multithreaded

dependencies:
  python: ">=3.8"
  openssl: "libssl-dev"
