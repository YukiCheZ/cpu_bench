# metadata.yaml for Markdown Rendering Benchmark
name: go_markdown
type: macrobenchmark
language: Go
domain:
  - text_processing
  - document_rendering

setup:
  command: ./setup.sh

workloads:
  - name: markdown_render
    summary: Markdown to HTML conversion and rendering
    action: parse and render Markdown text to HTML
    description: >
      Parse a collection of Markdown files and render them into HTML using the golang-commonmark library.
      Process complex Markdown features including tables, typography, and auto-linking to stress text processing capabilities.
      Measure the rendering throughput to evaluate the CPU's performance in string manipulation and document conversion tasks.
    data:
      command: python3 generate_data.py
      parameters:
        size: 
          full_name: total data size
          description: Total size of generated Markdown data in bytes
          default: 1000
        output: 
          full_name: output directory
          description: Output directory for generated Markdown data
          default: ./data/markdown
        min-size: 
          full_name: minimum file size
          description: Minimum size of individual Markdown files in bytes
          default: 20480
        max-size: 
          full_name: maximum file size
          description: Maximum size of individual Markdown files in bytes
          default: 40960
    command: go run main.go
    parameters:
      data:
        full_name: data directory
        description: Path to the directory containing Markdown files
        default: ./data/markdown
      threads:
        full_name: threads
        description: Number of threads
        default: 1
      iterations:
        full_name: iterations
        description: Number of benchmark iterations
        default: 400

characteristics:
  IO_effects: low
  single_machine: true
  network_effects: none
  memory_bound: low

tags:
  - markdown
  - text-processing
  - rendering
  - go

dependencies:
  go: "1.24.5"
