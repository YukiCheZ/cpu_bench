# metadata.yaml for JSON Marshal/Unmarshal Benchmark
name: go_json
type: macrobenchmark
language: Go
domain:
  - serialization
  - data_processing
  - cpu_bound

workloads:
  - name: json
    summary: JSON serialization and deserialization of hierarchical data
    action: marshal and unmarshal complex JSON objects
    description: >
      Execute repeated serialization and deserialization of a complex, hierarchical JSON object structure representing a tree.
      Unmarshal raw JSON data into Go structs and marshal them back to JSON strings to stress the encoding/json standard library.
      Measure the throughput of data processing to evaluate CPU performance during intensive text-based data interchange tasks. 
    data:
      command: python3 scripts/generate_data.py
      parameters:
        size: 
          full_name: data size
          description: Size of the JSON data in MB
          default: 50
        seed: 
          full_name: random seed
          description: Random seed for data generation
          default: 42
        output: 
          full_name: output file
          description: Output file path for generated JSON data
          default: ./data/input_50MB.json
    command: go run src/json.go
    parameters:
      input:
        full_name: input file
        description: Path to input JSON file
        default: ./data/input_50MB.json
      threads:
        full_name: threads
        description: Number of threads
        default: 1
      iterations:
        full_name: iterations
        description: Number of iterations per thread
        default: 500

characteristics:
  IO_effects: low
  single_machine: true
  network_effects: none
  cpu_bound: true

tags:
  - cpu
  - serialization
  - json
  - go
  - macrobenchmark

dependencies:
  go: "1.24.5"
