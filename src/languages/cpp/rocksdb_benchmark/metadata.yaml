# metadata.yaml for RocksDB CPU Benchmark
name: rocksdb_benchmark
type: macrobenchmark
language: C++
domain:
  - database
  - key-value

setup:
  command: ./setup.sh
  parameters:
    compiler:
      description: Compiler to use (gcc or clang)
      default: gcc
    opt:
      description: Optimization level (O0, O1, O2, O3)
      default: -O3

workloads:
  - name: rocksdb_cpu
    description: >
      Execute CPU-bound key-value operations using RocksDB.
    command: python3 run_benchmark.py
    parameters:
      num:
        description: Number of key-value pairs to use in benchmark
        default: 4000000
      threads:
        description: Number of concurrent threads
        default: 1
      warmup:
        description: Number of warmup iterations before timing
        default: 1
      iters:
        description: Number of timed iterations
        default: 1

characteristics:
  IO_effects: medium
  single_machine: true
  network_effects: none
  cpu_bound: true
  memory_intensive: low

tags:
  - database
  - key-value
  - rocksdb

dependencies:
  gcc: ">=11.0"
  clang: ">=14.0"
  python: ">=3.8"
  rocksdb: ">=10.0"
